# Copyright: 2025 The Secureblue Authors
# License: Apache License 2.0
# Upstream: https://github.com/secureblue/secureblue/blob/live/files/system/usr/lib/bootc/kargs.d/10-secureblue.toml

kargs = [
  "init_on_alloc=1",
  "init_on_free=1",
  "intel_iommu=on",
  "iommu.passthrough=0",
  "iommu.strict=1",
  "iommu=force",
  "kvm-intel.vmentry_l1d_flush=always",
  "kvm.mitigate_smt_rsb=1",
  "l1d_flush=on",
  "l1tf=full,force",
  "lockdown=confidentiality",
  "loglevel=0",
  "mitigations=auto,nosmt",
  "module.sig_enforce=1",
  "page_alloc.shuffle=1",
  "pti=on",
  "random.trust_bootloader=off",
  "random.trust_cpu=off",
  "randomize_kstack_offset=on",
  "rd.emergency=halt",
  "rd.shell=0",
  "slab_nomerge",
  "spec_store_bypass_disable=on",
  "spectre_v2=on",
  "ssbd=force-on",
  "vdso32=0",
  "vsyscall=none",
]
