# yaml-language-server: $schema=https://schema.blue-build.org/module-list-v1.json

modules:
  # Apply file-based customizations.
  - type: "files"
    files:
      - source: "./system/common"
        destination: "/"

  # Add grand-os image info.
  - type: "script"
    scripts:
      - "./add-image-info.sh"

  # Add default kargs to bootc config.
  - type: "script"
    scripts:
      - "./apply-default-kargs.sh"

  # Apply gtk theme customization.
  - type: "script"
    snippets:
      # Apply GTK Theme.
      - "echo 'GTK_THEME=WhiteSur-Dark' >> /etc/environment"

  # Enable systemd units.
  - type: "systemd"
    system:
      enabled:
        - "keyd.service"
    user:
      enabled:
        - "flatpak-override-update.timer"
        - "gnupg-unit-update.timer"
