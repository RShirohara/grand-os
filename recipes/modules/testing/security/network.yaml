# yaml-language-server: $schema=https://schema.blue-build.org/module-stage-list-v1.json

stages: []

modules:
  # Install package from dnf.
  - type: "dnf"
    install:
      packages:
        - "dnsconfd"
      install-weak-deps: false
      skip-unavailable: false
      skip-broken: false
      allow-erasing: false

  # Apply file-based customization.
  - type: "files"
    files:
      - source: "./testing/security/network"
        destination: "/"

  # Disable and enable systemd units.
  - type: "systemd"
    system:
      disabled:
        - "systemd-resolved.service"
      masked:
        - "systemd-resolved.service"
      enabled:
        - "dnsconfd.service"
